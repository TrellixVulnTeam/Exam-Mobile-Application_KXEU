package com.yorbax.EMA.admin.activity;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Toast;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import com.google.android.material.floatingactionbutton.FloatingActionButton;import com.google.firebase.database.DataSnapshot;import com.google.firebase.database.DatabaseError;import com.google.firebase.database.FirebaseDatabase;import com.google.firebase.database.ValueEventListener;import com.yorbax.EMA.R;import com.yorbax.EMA.admin.adapter.CourseAdapter;import com.yorbax.EMA.admin.adapter.LectureAdapter;import com.yorbax.EMA.admin.model.CourseModel;import com.yorbax.EMA.admin.model.LectureModel;import java.util.ArrayList;import java.util.List;public class ManageActivity extends AppCompatActivity {    public static String activityStatus = "";    FloatingActionButton floatingActionButton;    RecyclerView rv_lec;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_manage_lecture);        rv_lec = findViewById(R.id.recyclerView);        activityStatus = getIntent().getStringExtra("activity");        floatingActionButton = findViewById(R.id.floatingActionButton);        if (activityStatus.equals("course")) {            manageCourse();            floatingActionButton.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View view) {                    startActivity(new Intent(ManageActivity.this, AddCourse.class).putExtra("activity", "add"));                }            });        } else {            manageLecturer();            floatingActionButton.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View view) {                    startActivity(new Intent(ManageActivity.this, AddLecture.class).putExtra("activity", "add"));                }            });        }    }    @Override    public void onBackPressed() {        super.onBackPressed();        finish();    }    void manageCourse() {        List<CourseModel> courseList = new ArrayList<>();        FirebaseDatabase.getInstance().getReference().child("course").addValueEventListener(new ValueEventListener() {            @Override            public void onDataChange(@NonNull DataSnapshot snapshot) {                courseList.clear();                for (DataSnapshot snapshot1 : snapshot.getChildren()) {                    String id = snapshot1.getKey();                    String courseName = snapshot1.child("courseName").getValue(String.class);                    String creditHr = snapshot1.child("creditHr").getValue(String.class);                    courseList.add(new CourseModel(id, courseName, creditHr));                }                rv_lec.setLayoutManager(new LinearLayoutManager(ManageActivity.this));                CourseAdapter lectureAdapter = new CourseAdapter(ManageActivity.this, courseList);                rv_lec.setAdapter(lectureAdapter);            }            @Override            public void onCancelled(@NonNull DatabaseError error) {                Toast.makeText(ManageActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();            }        });    }    void manageLecturer() {        List<LectureModel> lecturerList = new ArrayList<>();        FirebaseDatabase.getInstance().getReference().child("users").addValueEventListener(new ValueEventListener() {            @Override            public void onDataChange(@NonNull DataSnapshot snapshot) {                lecturerList.clear();                for (DataSnapshot snapshot1 : snapshot.getChildren()) {                    if (snapshot1.child("loginType").getValue(Integer.class) == 2) {                        String id = snapshot1.getKey();                        String name = snapshot1.child("name").getValue(String.class);                        String courseName = snapshot1.child("course").getValue(String.class);                        String courseId = snapshot1.child("courseId").getValue(String.class);                        String username = snapshot1.child("username").getValue(String.class);                        String email = snapshot1.child("email").getValue(String.class);                        String password = snapshot1.child("password").getValue(String.class);                        lecturerList.add(new LectureModel(id, name, courseName, courseId, username, email, password, 2));                    }                }                rv_lec.setLayoutManager(new LinearLayoutManager(ManageActivity.this));                LectureAdapter lectureAdapter = new LectureAdapter(ManageActivity.this, lecturerList);                rv_lec.setAdapter(lectureAdapter);            }            @Override            public void onCancelled(@NonNull DatabaseError error) {                Toast.makeText(ManageActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();            }        });    }}