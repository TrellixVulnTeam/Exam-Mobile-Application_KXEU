package com.yorbax.EMA.admin.activity;import android.os.Bundle;import android.view.View;import android.widget.TextView;import android.widget.Toast;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import com.google.android.gms.tasks.OnCompleteListener;import com.google.android.gms.tasks.Task;import com.google.android.material.button.MaterialButton;import com.google.android.material.textfield.TextInputEditText;import com.google.firebase.database.DatabaseReference;import com.yorbax.EMA.R;import com.yorbax.EMA.admin.model.CourseModel;import java.util.UUID;import static com.yorbax.EMA.Constants.Constants.mDatabase;public class AddCourse extends AppCompatActivity {    public String activityStatus;    TextInputEditText etCourseName, edCreditHr;    MaterialButton btnSave;    TextView txt_1;    DatabaseReference databaseReference;    CourseModel courseModel;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_add_course);        activityStatus = getIntent().getStringExtra("activity");        init();        listerners();        if (activityStatus.equals("update")) {            txt_1.setText("Update Course");            btnSave.setText("Update");//            Bundle bundle = getIntent().getExtras();             courseModel = (CourseModel) getIntent().getExtras().getSerializable("updateData");            etCourseName.setText(courseModel.courseName);            edCreditHr.setText(courseModel.creditHr);        } else {            txt_1.setText("Add New Course");            btnSave.setText("Save");        }        databaseReference = mDatabase;    }    private void init() {        etCourseName = findViewById(R.id.txt_name);        txt_1 = findViewById(R.id.txt_1);        edCreditHr = findViewById(R.id.txt_crdit_hr);        btnSave = findViewById(R.id.btnSave);    }    void listerners() {        btnSave.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {//                validation data                if (etCourseName.getText().toString().equals("")) {                    etCourseName.setError("Required!");                    return;                }                if (edCreditHr.getText().toString().equals("")) {                    edCreditHr.setError("Required!");                    return;                }                if (activityStatus.equals("update")) {                    updateCourse();                } else {                    //                code here for insert data                    addCourse();                }            }        });    }    void addCourse() {        CourseModel courseModel = new CourseModel(null, etCourseName.getText().toString(), edCreditHr.getText().toString());        databaseReference.child("course").child(UUID.randomUUID().toString()).setValue(courseModel).addOnCompleteListener(new OnCompleteListener<Void>() {            @Override            public void onComplete(@NonNull Task<Void> task) {                if (task.isSuccessful()) {                    Toast.makeText(AddCourse.this, "Course Created Successfully!", Toast.LENGTH_SHORT).show();                    finish();                } else {                    Toast.makeText(AddCourse.this, "Something goes wrong please try again", Toast.LENGTH_SHORT).show();                }            }        });    }    void updateCourse() {        CourseModel courseModel1 = new CourseModel(null, etCourseName.getText().toString(), edCreditHr.getText().toString());        databaseReference.child("course").child(courseModel.id).setValue(courseModel1).addOnCompleteListener(new OnCompleteListener<Void>() {            @Override            public void onComplete(@NonNull Task<Void> task) {                if (task.isSuccessful()) {                    Toast.makeText(AddCourse.this, "Course Update Successfully!", Toast.LENGTH_SHORT).show();                    finish();                } else {                    Toast.makeText(AddCourse.this, "Something goes wrong please try again", Toast.LENGTH_SHORT).show();                }            }        });    }}